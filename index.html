<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Terminus Seldon</title>
  <link rel="stylesheet" href="/assets/style.css">
</head>
<body>
  <!-- Info (colapsable) -->
  <details id="info" class="info">
    <summary class="info__summary" aria-label="Información">
      <span class="info__label">Información</span>
      <span class="info__chev" aria-hidden="true"></span>
    </summary>

    <div id="comunicado" class="info__body">
      <p class="quote">«Haga cada uno su parte de deber, y nada podrá vencernos.»</p>
      <p class="author">José Martí</p>
    </div>

    <p class="info__hint">Si la conexión está lenta, intenta de nuevo.</p>
  </details>

  <!-- Indicador de giro (SIN TEXTO). Centrado abajo. Desaparece en landscape -->
  <div id="rotateHint" class="rotateHint" aria-hidden="true">
    <div class="rotateHint__wrap">
      <div class="rotateHint__phone"></div>
      <div class="rotateHint__arrow"></div>
    </div>
  </div>

  <!-- Botón flotante: SOLO miniatura + badge "Ver video" -->
  <a class="float" href="/go" target="_blank" rel="noopener" aria-label="Ver video">
    <span class="thumb" id="thumb"></span>
    <span class="yt-badge" aria-hidden="true">
      <span class="yt-icon"></span>
      <span>Ver video</span>
    </span>
  </a>

  <script>
    // Miniatura fija (sube una imagen a /assets/cover.jpg)
    const THUMB_URL = "/assets/cover.jpg";
    document.getElementById("thumb").style.backgroundImage = `url('${THUMB_URL}')`;

    // Ocultar comunicado si no hay texto (si un día lo dejas vacío)
    const comunicado = document.getElementById("comunicado");
    const info = document.getElementById("info");
    const hasText = comunicado.textContent.replace(/\s+/g, "").length > 0;
    if (!hasText) {
      comunicado.style.display = "none";
      info.open = false;
    }

    // Mostrar/ocultar icono de giro: visible SOLO en portrait; desaparece al girar
    const rotateHint = document.getElementById("rotateHint");
    function updateRotateHint() {
      const isLandscape = window.matchMedia("(orientation: landscape)").matches;
      rotateHint.style.display = isLandscape ? "none" : "flex";
    }
    updateRotateHint();
    window.addEventListener("orientationchange", updateRotateHint);
    window.addEventListener("resize", updateRotateHint);
  </script>
</body>
</html>
